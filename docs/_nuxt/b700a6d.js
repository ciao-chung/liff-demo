(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{374:function(t,e){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var n=new Uint8Array(16);t.exports=function(){return o(n),n}}else{var r=new Array(16);t.exports=function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),r[i]=t>>>((3&i)<<3)&255;return r}}},375:function(t,e){for(var o=[],i=0;i<256;++i)o[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,n=o;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}},376:function(t,e,o){var content=o(384);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(81).default)("503c9d5e",content,!0,{sourceMap:!1})},380:function(t,e,o){var n=o(381),r=o(382),l=r;l.v1=n,l.v4=r,t.exports=l},381:function(t,e,o){var n,r,l=o(374),c=o(375),h=0,d=0;t.exports=function(t,e,o){var i=e&&o||0,b=e||[],f=(t=t||{}).node||n,y=void 0!==t.clockseq?t.clockseq:r;if(null==f||null==y){var v=l();null==f&&(f=n=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==y&&(y=r=16383&(v[6]<<8|v[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),C=void 0!==t.nsecs?t.nsecs:d+1,dt=m-h+(C-d)/1e4;if(dt<0&&void 0===t.clockseq&&(y=y+1&16383),(dt<0||m>h)&&void 0===t.nsecs&&(C=0),C>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=m,d=C,r=y;var _=(1e4*(268435455&(m+=122192928e5))+C)%4294967296;b[i++]=_>>>24&255,b[i++]=_>>>16&255,b[i++]=_>>>8&255,b[i++]=255&_;var x=m/4294967296*1e4&268435455;b[i++]=x>>>8&255,b[i++]=255&x,b[i++]=x>>>24&15|16,b[i++]=x>>>16&255,b[i++]=y>>>8|128,b[i++]=255&y;for(var k=0;k<6;++k)b[i+k]=f[k];return e||c(b)}},382:function(t,e,o){var n=o(374),r=o(375);t.exports=function(t,e,o){var i=e&&o||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var l=(t=t||{}).random||(t.rng||n)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e)for(var c=0;c<16;++c)e[i+c]=l[c];return e||r(l)}},383:function(t,e,o){"use strict";o(376)},384:function(t,e,o){var n=o(80)(!1);n.push([t.i,"div.v-application[eagle-root] .v-icon{font-size:1rem;font-weight:700}.snotify .snotifyToast__title{font-size:1.25rem}.snotify .snotifyToast__body{font-size:1rem}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-thumb{border-radius:10px;background:#02b2bf}::-webkit-scrollbar-track{border-radius:10px;background:#cbf1f3}div[anchor-router-view-container]{min-height:calc(100vh - 50px)}body.viewer-open{padding-right:0!important}header.v-app-bar .v-toolbar__content{z-index:1000!important}div[anchor-list-data=photo] div[anchor-list-photo=placeholder]{position:absolute;top:40%;left:40%}.v-input--switch .v-input__control label.v-label{flex:0 1 auto}.v-card [eagle-card=placeholder]{position:absolute}.cursor-pointer{cursor:pointer}.v-btn.text-transform-none{text-transform:none}div[anchor-popup-root]{position:absolute;left:0;top:0;width:0;height:0}div[anchor-poppup-title]{min-height:45px}",""]),t.exports=n},405:function(t,e,o){"use strict";o.r(e);var n=o(4),r=o(17),l=o(18),c=new n.default,h={props:{index:{type:Number},config:{type:Object}},data:()=>({error:null,data:null,onLoading:!1,isApplyProcessing:!1,autoCloseTimeout:null,popupCreated:!0,preventClose:!1}),beforeDestroy(){clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null},mounted(){this.setupAutoClose(),this.data=void 0===this.config.defaultValue?null:this.config.defaultValue,this.$nextTick((()=>{this.setupPrompt()}))},methods:{setupPrompt(){if("prompt"!=this.config.type)return;const t=$("*[anchor-prompt-input]");this.$nextTick((()=>{t.focus()}))},handleSlotApply(){this.apply()},handleSlotClose(){this.close(!0)},updateData(data){this.data=this.$eagleLodash.cloneDeep(data)},updateLoading(t){this.onLoading=t},setError(t){this.error=t},updateApplyProcessing(t){this.isApplyProcessing=t},setupAutoClose(){this.config.autoClose&&(isNaN(this.config.autoClose)||(this.autoCloseTimeout=setTimeout((()=>{this.close(!0)}),this.config.autoClose)))},onOverlayClick(){this.config.hideOverlay||this.persistent||this.close(!0)},onKeyKeyDownEnter(){this.config.applyOnEnter&&this.apply()},async apply(){if(this.hasApply&&!this.disabledApply&&!this.isApplyProcessing){this.error=null;try{this.isApplyProcessing=!0,await this.config.applyCallback(this.data),this.isApplyProcessing=!1}catch(t){return console.error(t),this.error=t,this.handleApplyError(),void(this.isApplyProcessing=!1)}this.close()}},handleApplyError(){"function"==typeof this.config.applyErrorCallback&&this.config.applyErrorCallback(this.error,this.data)},async close(t=!1){if(!this.disableClose){if(this.closePromise){if(!this.closePromise(this.data))return}this.$nextTick((()=>{this.$emit("close",{index:this.index,key:this.config.key,config:this.config,isCancel:t}),"function"==typeof this.config.closeCallback&&this.config.closeCallback(t,this.data)}))}}},computed:{promptMaxLength(){return this.config.promptMaxLength?this.config.promptMaxLength:null},persistent(){return!0===this.preventClose||(!!this.config.persistent||(!!this.disableClose||(!!this.onLoading||!!this.isApplyProcessing)))},disableClose(){return!!this.isApplyProcessing||!!this.onLoading},closePromise(){return"function"!=typeof this.config.closePromise?null:this.config.closePromise},disabledApply(){if("function"==typeof this.config.disabledApply)return this.config.disabledApply(this.data)},createBody(){return!!this.config.content||("prompt"==this.config.type||!!this.config.bodySlot)},hasApply(){return"function"==typeof this.config.applyCallback},hasCardAction(){return!!this.hasApply||(!!this.config.close||!!this.config.actionSlot)}},watch:{popupCreated(){0==this.popupCreated&&this.close(!0)}}},d=o(87),f=Object(d.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{scrollable:"","retain-focus":t.config.retainFocus,"max-width":t.config.maxWidth,persistent:t.persistent,width:t.config.width,"hide-overlay":t.config.hideOverlay},on:{"click:outside":t.onOverlayClick,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.onKeyKeyDownEnter(e))}},model:{value:t.popupCreated,callback:function(e){t.popupCreated=e},expression:"popupCreated"}},[o("v-card",[o("v-card-title",{staticClass:"headline",class:t.config.titleClass,attrs:{"anchor-poppup-title":""}},[t.config.title?o("span",[t._v(t._s(t.config.title))]):t._e(),t._v(" "),o("v-spacer"),t._v(" "),t.onLoading?o("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"25",width:"3"}}):t._e()],1),t._v(" "),t.createBody?o("v-card-text",{staticClass:"py-6"},[t.config.content?[t.config.isHtml?o("p",{staticClass:"py-0 my-0",domProps:{innerHTML:t._s(t.config.content)}}):t._e(),t._v(" "),t.config.isHtml?t._e():o("p",{staticClass:"py-0 my-0"},[t._v(t._s(t.config.content))])]:t._e(),t._v(" "),"prompt"==t.config.type?o("v-text-field",{attrs:{"anchor-prompt-input":"",solo:"",dense:"",autofocus:"",type:t.config.inputType,placeholder:t.config.promptPlaceholder,maxlength:t.promptMaxLength,counter:!!t.promptMaxLength,config:t.config},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}):t._e(),t._v(" "),t.config.bodySlot?o(t.config.bodySlot,{tag:"component",attrs:{data:t.data,error:t.error,config:t.config,popupConfig:t.config,preventClose:t.preventClose,isApplyProcessing:t.isApplyProcessing,onLoading:t.onLoading},on:{updateData:t.updateData,setError:t.setError,updateApplyProcessing:t.updateApplyProcessing,apply:t.handleSlotApply,close:t.handleSlotClose,"update:preventClose":function(e){t.preventClose=e},"update:prevent-close":function(e){t.preventClose=e}}}):t._e()],2):t._e(),t._v(" "),o("v-divider"),t._v(" "),t.hasCardAction?o("v-card-actions",[t.config.actionSlot?o(t.config.actionSlot,t._b({tag:"component",attrs:{data:t.data,error:t.error,config:t.config,isApplyProcessing:t.isApplyProcessing,onLoading:t.onLoading},on:{updateData:t.updateData,setError:t.setError,updateApplyProcessing:t.updateApplyProcessing,apply:t.handleSlotApply,close:t.handleSlotClose}},"component",t.config.actionProps,!1)):t._e(),t._v(" "),o("v-spacer"),t._v(" "),t.config.close?o("v-btn",{attrs:{text:"",color:t.config.closeColor,disabled:t.disableClose},on:{click:function(e){return t.close(!0)}}},[t._v("\n        "+t._s(t.config.closeLabel)+"\n      ")]):t._e(),t._v(" "),t.hasApply?o("v-btn",{attrs:{loading:t.isApplyProcessing,disabled:t.disabledApply,color:t.config.applyColor},on:{click:t.apply}},[t._v("\n        "+t._s(t.config.applyLabel)+"\n      ")]):t._e()],1):t._e()],1)],1)}),[],!1,null,"3459670e",null).exports,y=o(380),v=o.n(y),m={data:()=>({listener:null,defaultConfig:null,popupItems:[]}),created(){this.setupListener()},methods:{uid:()=>v.a.v4(),init(t={}){t.debug&&console.warn("init anchor popup",t),this.defaultConfig={maxWidth:"none",width:"auto",hideOverlay:!1,persistent:!1,retainFocus:!0,titleClass:"primary white--text",autoClose:null,applyLabel:"Apply",applyCallback:null,applyColor:"primary darken-2 white--text",close:!0,closeLabel:"Close",closeColor:"secondary",closeCallback:null,onDataChange:null,title:"",applyOnEnter:!0,isHtml:!1,promptPlaceholder:null,bodySlot:null,actionSlot:null,...t}},getBaseOption(t,option={}){return{key:this.uid(),type:t,title:"",content:"",applyOnEnter:!0,debug:!1,...option}},createPopupOption(t,option={}){let e;if("string"==typeof option){const o=this.$eagleLodash.cloneDeep(option);e=this.getBaseOption(t),e.title=o}else e=this.getBaseOption(t,this.$eagleLodash.cloneDeep(option));const o={...this.defaultConfig,...e};return!0===o.debug&&console.log("debug",o),o},setupListener(){this.listener=c,this.listener.$on("init",this.init),this.listener.$on("base",this.base),this.listener.$on("prompt",this.prompt),this.listener.$on("remove",this.remove)},close(data){this.$delete(this.popupItems,data.index)},base(option){this.popupItems.push(this.createPopupOption("base",option))},prompt(option){this.popupItems.push(this.createPopupOption("prompt",option))},remove(t){const e=this.popupItems.findIndex((e=>e.key==t));null!=e&&this.$delete(this.popupItems,e)}},components:{popupItem:f}},C=(o(383),Object(d.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.defaultConfig?o("div",{attrs:{"anchor-popup-root":""}},t._l(t.popupItems,(function(e,n){return o("popupItem",{key:n,attrs:{index:n,config:e},on:{close:t.close}})})),1):t._e()}),[],!1,null,null,null).exports),_=function(){function t(e){var o=this;Object(r.a)(this,t),this.emitter=c,this.emitter.$nextTick((function(){o.emitter.$emit("init",e)}))}return Object(l.a)(t,[{key:"init",value:function(t){this.emitter.$emit("init",t)}},{key:"base",value:function(t){this.emitter.$emit("base",t)}},{key:"prompt",value:function(t){this.emitter.$emit("prompt",t)}},{key:"remove",value:function(t){this.emitter.$emit("remove",t)}}]),t}(),x=function(t){return new _(t)},k=new(function(){function t(){Object(r.a)(this,t),this.isInstalled=!1,this.emitter=new n.default}return Object(l.a)(t,[{key:"install",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.isInstalled||(this.isInstalled=!0,t.component("anchor-popup",C),t.prototype.$apopup=x(t.observable(e)))}}]),t}()),w={created(){n.default.use(k,this.anchorPopupDefaultConfig)},updated(){this.$apopup&&this.$apopup.init(this.anchorPopupDefaultConfig)},computed:{anchorPopupDefaultConfig(){return{width:"350",applyLabel:this.$t("action.apply"),closeLabel:this.$t("action.close")}}}},A=Object(d.a)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{"eagle-base-plugin":""}},[o("client-only",[o("vue-snotify")],1),t._v(" "),o("anchor-popup",{staticStyle:{"z-index":"204 !important"}})],1)}),[],!1,null,"de7013ce",null);e.default=A.exports}}]);