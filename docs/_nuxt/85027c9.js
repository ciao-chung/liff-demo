(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{370:function(e,n,t){"use strict";t.r(n);var o=t(41),c=t.n(o),d={data:()=>({idToken:null,decodedIDToken:null,accessToken:null,isLoggedIn:null,profile:null,message:"",methods:[{name:"getAccessToken"},{name:"getProfile"},{name:"scanCode"},{name:"scanCodeV2"}]}),mounted(){console.warn("siteConfig.liffId",c.a.liffId),this.init()},methods:{async init(){const e=await window.liff.getProfile(),n=window.liff.getAccessToken(),t=window.liff.getIDToken(),o=window.liff.isLoggedIn(),c=window.liff.getDecodedIDToken();this.$apopup.base({width:"1000px",content:`\n<div class="mb-4">isLoggedIn: ${o}</div>\n<div class="mb-4">idToken: ${t}</div>\n<div class="mb-4">accessToken: ${n}</div>\n<div class="mb-4">decodedIDToken: ${JSON.stringify(c)}</div>\n<div class="mb-4">profile: ${JSON.stringify(e)}</div>\n`,isHtml:!0})},reload(){window.location.reload()},async sendMessage(){try{await window.liff.sendMessages([{type:"text",text:"message"}])}catch(e){console.warn(e)}},getAccessToken(){this.accessToken=window.liff.getAccessToken(),console.warn("accessToken",this.accessToken)},getIDToken(){this.idToken=window.liff.getIDToken(),console.warn("idToken",this.idToken)},getDecodedIDToken(){this.decodedIDToken=window.liff.getDecodedIDToken(),console.warn("decodedIDToken",this.decodedIDToken)},isLoggedInAction(){this.isLoggedIn=window.liff.isLoggedIn(),console.warn("isLoggedIn",this.isLoggedIn)},async getProfile(){this.profile=await window.liff.getProfile(),console.warn("profile",this.profile)},login(){window.liff.login()},async triggerMethod(e){if(!window.liff)return void this.$apopup.base({title:"找不到LIFF library"});if("function"!=typeof window.liff[e])return void this.$apopup.base({title:"找不到LIFF method",content:"method"});let n=null;try{n=await window.liff[e]()}catch(e){return this.$apopup.base({title:"call method failure",content:e}),void console.warn(e)}this.$apopup.base({title:`call method ${e}`,content:n}),console.warn("value",n)}},computed:{query(){return this.$route.query}}},l=t(87),component=Object(l.a)(d,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("v-container",[t("div",{staticClass:"text-h3"},[e._v("LIFF")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.login}},[e._v("\n      Login\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.reload}},[e._v("\n      reload\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.getAccessToken}},[e._v("\n      getAccessToken\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.getIDToken}},[e._v("\n      getIDToken\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.getDecodedIDToken}},[e._v("\n      getDecodedIDToken\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.isLoggedInAction}},[e._v("\n      isLoggedIn\n    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4 mb-4",on:{click:e.getProfile}},[e._v("\n      getProfile\n    ")]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("\n      query: "+e._s(e.query)+"\n    ")]),e._v(" "),t("v-divider",{staticClass:"my-4"}),e._v(" "),t("div",{staticClass:"my-4"},e._l(e.methods,(function(n){return t("v-btn",{key:n.name,staticClass:"mr-4 mb-4",attrs:{color:"primary"},on:{click:function(t){return e.triggerMethod(n.name)}}},[e._v("\n        "+e._s(n.name)+"\n      ")])})),1),e._v(" "),t("v-textarea",{attrs:{outlined:"",dense:""},model:{value:e.message,callback:function(n){e.message=n},expression:"message"}}),e._v(" "),t("v-btn",{attrs:{disabled:!e.message},on:{click:e.sendMessage}},[e._v("\n      send message\n    ")]),e._v(" "),t("v-divider",{staticClass:"my-4"}),e._v(" "),t("div",{staticClass:"my-4"},[e._v("query: "+e._s(e.query))]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("accessToken: "+e._s(e.accessToken))]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("idToken: "+e._s(e.idToken))]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("decodedIDToken: "+e._s(e.decodedIDToken))]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("isLoggedIn: "+e._s(e.isLoggedIn))]),e._v(" "),t("div",{staticClass:"my-4"},[e._v("profile: "+e._s(e.profile))])],1)],1)}),[],!1,null,"abdfce94",null);n.default=component.exports}}]);